<app-detail-section-title sectionName="Geographic location"></app-detail-section-title>

<div class="detail_container">
    <div id="alert"></div>
    <app-pr-radio-button
        [label]="'What is the main geographic focus of the ' + this.api.dataControlSE.getLastWord(this.resultLevelSE.currentResultLevelName)+'?'"
        description="This should reflect where the outcome has taken place/contributed to benefit."
        [options]="this.geographic_focus" optionLabel="name" optionValue='id'
        [(ngModel)]="this.geographicLocationBody.scope_id" [required]="false">
    </app-pr-radio-button>
    <div *ngIf="this.geographicLocationBody.scope_id != 4 && !!this.geographicLocationBody.scope_id">
        <app-pr-yes-or-not *ngIf="this.geographicLocationBody.scope_id != 3"
            [label]="this.geographicLocationBody.scope_id != 2 ? 'Are there any regions that you wish to specify for this '+this.api.dataControlSE.getLastWord(this.resultLevelSE.currentResultLevelName)+'?':'Select regions'"
            [description]="this.geographicLocationBody.has_regions  !== false ? thereAnyRegionText() : null"
            [(ngModel)]="this.geographicLocationBody.has_regions" [required]="false">
        </app-pr-yes-or-not>
        <app-pr-multi-select
            *ngIf="this.geographicLocationBody.has_regions  !== false && this.geographicLocationBody.scope_id != 3 && !!this.geographicLocationBody.has_regions"
            [options]="this.regionsCountriesSE.regionsList" selectedLabel="Regions(s) selected"
            selectedOptionLabel="name" optionLabel="name" optionValue="id" placeholder="Select regions"
            [(ngModel)]="this.geographicLocationBody.regions">
        </app-pr-multi-select>
        <app-pr-yes-or-not
            [label]="this.geographicLocationBody.scope_id != 3?'Are there any countries that you wish to specify for this '+this.api.dataControlSE.getLastWord(this.resultLevelSE.currentResultLevelName)+'?' : 'Select countries'"
            [description]="this.geographicLocationBody.has_countries  !== false  ? thereAnycountriesText() : null"
            [(ngModel)]="this.geographicLocationBody.has_countries" [required]="false">
        </app-pr-yes-or-not>
        <app-pr-multi-select
            *ngIf="this.geographicLocationBody.has_countries !== false && !!this.geographicLocationBody.has_countries"
            [options]="this.regionsCountriesSE.countriesList" selectedLabel="Countries selected"
            selectedOptionLabel="name" optionLabel="name" optionValue="id" placeholder="Select countries"
            [(ngModel)]="this.geographicLocationBody.countries">
        </app-pr-multi-select>
    </div>
</div>
<app-save-button class="position_sticky" (clickSave)="onSaveSection()"></app-save-button>