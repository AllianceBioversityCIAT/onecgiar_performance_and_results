<div
  [ngSwitch]="notification?.request_status_id"
  class="notification"
  [ngStyle]="{
    'background-color': notification?.request_status_id === 1 ? '#eef0fc' : '',
    border: notification?.request_status_id === 1 ? '1px solid #bac1e5' : ''
  }">
  <div class="notification_header">
    <div class="notification_header_item">
      <p class="notification_header_item_text">
        {{ notification?.is_map_to_toc ? notification?.obj_owner_initiative?.official_code : notification?.obj_shared_inititiative?.official_code }}
      </p>
    </div>

    <div class="notification_header_item">
      <p class="notification_header_item_text">
        <b> From </b>
        {{ notification?.is_map_to_toc ? notification?.obj_shared_inititiative?.official_code : notification?.obj_owner_initiative?.official_code }}
        <b> to </b>
        {{ notification?.is_map_to_toc ? notification?.obj_owner_initiative?.official_code : notification?.obj_shared_inititiative?.official_code }}
      </p>
    </div>
  </div>

  <div *ngSwitchCase="1" class="notification_content">
    <div class="notification_content_body">
      <p class="notification_content_body_text">
        <b>
          {{ notification?.obj_requested_by?.first_name }} {{ notification?.obj_requested_by?.last_name }} from
          {{ notification?.is_map_to_toc ? notification?.obj_shared_inititiative?.official_code : notification?.obj_owner_initiative?.official_code }}
          has requested {{ notification?.is_map_to_toc ? 'to include this initiative in' : 'the inclusion of' }}
          {{ notification?.is_map_to_toc ? notification?.obj_owner_initiative?.official_code : notification?.obj_shared_inititiative?.official_code }}
          as a contributor
        </b>
        to result
        <a [href]="resultUrl(notification)" target="_blank" rel="noopener noreferrer" style="text-decoration: underline; color: #000">
          {{ notification?.obj_result?.result_code }} - {{ notification?.obj_result?.title }}
        </a>
      </p>
    </div>

    <div class="notification_content_actions">
      <div class="notification_content_actions_buttons" *ngIf="!isSent">
        <app-pr-button
          [text]="notification?.is_map_to_toc ? 'Accept' : 'Map and accept'"
          colorType="success"
          (click)="notification?.is_map_to_toc ? acceptOrReject(true) : mapAndAccept(notification)"
          [rotating]="this.requestingAccept"
          [disabled]="invalidateRequest()"
          [icon]="this.requestingAccept ? 'loop' : ''"
          [tooltipText]="invalidateRequest() ? 'This result has been Quality Assessed and no additional contributors can be added.' : ''"
          [verticalMargin]="0"
          tooltipStyleClass="tooltip-w-300"></app-pr-button>

        <app-pr-button
          text="Reject"
          colorType="danger"
          (click)="acceptOrReject(false)"
          [rotating]="this.requestingReject"
          [icon]="this.requestingReject ? 'loop' : ''"
          [verticalMargin]="0"
          [ngClass]="{ globalDisabled: invalidateRequest() }"></app-pr-button>
      </div>

      <div *ngIf="isSent" class="notification_content_actions_sent">
        <i class="material-icons-round"> watch_later </i>
        <p>Pending</p>
      </div>
    </div>
  </div>

  <div *ngSwitchCase="2" class="notification_content">
    <div class="notification_content_body">
      <p class="notification_content_body_text">
        <b>
          {{ notification?.obj_requested_by?.first_name }} {{ notification?.obj_requested_by?.last_name }} from
          {{ notification?.obj_shared_inititiative?.official_code }} has requested
          {{ notification?.is_map_to_toc ? 'to include this initiative in' : 'the inclusion of' }}
          {{ notification?.obj_owner_initiative?.official_code }} as a contributor
        </b>
        to result
        <a [href]="resultUrl(notification)" target="_blank" rel="noopener noreferrer" style="text-decoration: underline; color: #000">
          {{ notification?.obj_result?.result_code }} - {{ notification?.obj_result?.title }}
        </a>
      </p>
    </div>

    <div class="notification_content_actions" style="min-width: 280px; max-width: 280px">
      <p class="notification_content_actions_status">
        <b style="color: var(--pr-color-primary)"> Status: </b> <span style="font-weight: 500; color: #008000"> Accepted</span> by
        {{ notification?.obj_approved_by?.first_name }} {{ notification?.obj_approved_by?.last_name }} on {{ notification?.aprovaed_date | date }}
      </p>
    </div>
  </div>

  <div *ngSwitchCase="3" class="notification_content">
    <div class="notification_content_body">
      <p class="notification_content_body_text">
        <b>
          {{ notification?.obj_requested_by?.first_name }} {{ notification?.obj_requested_by?.last_name }} from
          {{ notification?.obj_shared_inititiative?.official_code }} has requested
          {{ notification?.is_map_to_toc ? 'to include this initiative in' : 'the inclusion of' }}
          {{ notification?.obj_owner_initiative?.official_code }} as a contributor
        </b>
        to result
        <a [href]="resultUrl(notification)" target="_blank" rel="noopener noreferrer" style="text-decoration: underline; color: #000">
          {{ notification?.obj_result?.result_code }} - {{ notification?.obj_result?.title }}
        </a>
      </p>
    </div>

    <div class="notification_content_actions" style="min-width: 280px; max-width: 280px">
      <p class="notification_content_actions_status">
        <b style="color: var(--pr-color-primary)"> Status: </b> <span style="font-weight: 500; color: #db321c">Rejected</span> by
        {{ notification?.obj_approved_by?.first_name }} {{ notification?.obj_approved_by?.last_name }} on {{ notification?.aprovaed_date | date }}
      </p>
    </div>
  </div>

  <div *ngSwitchCase="4">
    <div class="title">
      Request from {{ notification?.requester_official_code }} to {{ notification?.approving_official_code }} to be added as a contributor to the
      result:
    </div>

    <div class="sub_title">
      {{ notification?.result_type_name }} -

      <a class="open_route" target="_blank" rel="noopener noreferrer" [href]="resultUrl(notification)" target="_blank" rel="noopener noreferrer">
        (Result code: {{ notification?.result_code }}) {{ notification?.title }}
      </a>
    </div>

    <div class="text_icon pending">
      Pending

      <i class="material-icons-round"> watch_later </i>
    </div>
  </div>

  <div class="notification_date">Requested {{ notification.requested_date | appFormatTimeAgo }}</div>
</div>
