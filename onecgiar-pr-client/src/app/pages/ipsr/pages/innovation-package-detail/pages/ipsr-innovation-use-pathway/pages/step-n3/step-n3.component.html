<div class="step_title"> <strong>Step 3:</strong>Scaling readiness assessment</div>

<div class="ipsr-sub-title" style="margin-top: 20px;">Self-assessment (IPSR workshop scoring)</div>
<app-pr-radio-button
    label="Was an Innovation Packaging and Scaling Readiness online or in-person expert workshop organized?"
    optionLabel="name" optionValue="id" [options]="this.radioOptions" (selectOptionEvent)="cleanEvidence()"
    [(ngModel)]="this.ipsrStep3Body.result_innovation_package.is_expert_workshop_organized">
</app-pr-radio-button>
<div *ngIf="this.ipsrStep3Body.result_innovation_package.is_expert_workshop_organized === true">
    <div class="infoPersons"
        *ngFor="let expertItem of this.ipsrStep3Body.result_ip_expert_workshop_organized; let i = index;">
        <app-pr-input label="Facilitators" [required]="true" placeholder="First Name"
            [(ngModel)]="expertItem.first_name"></app-pr-input>
        <app-pr-input label="Last Name" [required]="true" placeholder="Last Name"
            [(ngModel)]="expertItem.last_name"></app-pr-input>
        <app-pr-input label="Email" [required]="false" placeholder="Email"
            [(ngModel)]="expertItem.email"></app-pr-input>
        <app-pr-input label="Role" [required]="false" placeholder="Lead/Co-lead"
            [(ngModel)]="expertItem.workshop_role"></app-pr-input>
        <div class="delete" (click)="delete(i)">
            <i class="clickEvent material-icons-round ymz-lsi-delete-icon"
                style="color: red; cursor: pointer;">delete</i>
        </div>

    </div>
    <div *ngIf="this.ipsrStep3Body.result_innovation_package.is_expert_workshop_organized === true">
        <app-add-button name="Add Lead/Co-Lead" (clickEvent)="addExpert()"></app-add-button>
    </div>
    <app-pr-input *ngIf="this.ipsrStep3Body.result_innovation_package.is_expert_workshop_organized === true"
        label="Provide the link to the workshop list of participants" [description]="workshopDescription()"
        [required]="false" placeholder="Link" [(ngModel)]="this.ipsrStep3Body.link_workshop_list">
    </app-pr-input>

    <div *ngIf="this.ipsrStep3Body.result_innovation_package.is_expert_workshop_organized === true">
        <app-step-n3-assessed-expert-workshop [body]="this.ipsrStep3Body"></app-step-n3-assessed-expert-workshop>
    </div>

    <!-- <div *ngIf="this.ipsrStep3Body.result_innovation_package.is_expert_workshop_organized === true">
    <app-pr-field-header label="Innovation Readiness level self-assessment" [required]="false"
        [description]="this.readinessLevelSelfAssessmentText()"></app-pr-field-header>
    <app-pr-range-level optionLabel="name" optionValue="id" [options]="this.rangesOptions" itemTitle="name"
        itemDescription="definition"
        [(ngModel)]="this.ipsrStep3Body.result_innovation_package.readiness_level_evidence_based"></app-pr-range-level>

    <app-pr-field-header label="Innovation use level self-assessment" [required]="false"
        [description]="this.useLevelDelfAssessment()"></app-pr-field-header>

    <app-pr-range-level itemTitle="name" itemDescription="definition" optionLabel="name" optionValue="id"
        [options]="this.rangesOptions"
        [(ngModel)]="this.ipsrStep3Body.result_innovation_package.use_level_evidence_based"></app-pr-range-level>
</div> -->


    <div class="step_divider"></div>

    <div class="ipsr-sub-title" style="margin-top: 20px;">Evidence-based assessment (adjusted scoring post IPSR workshop
        based on available evidence)</div>

    <!--
<app-pr-field-header
    label="Fill the Scaling Readiness evidence-based assessment (post workshop and supported by available evidence)"
    [required]="false"></app-pr-field-header>-->


    <<<<<<< HEAD <app-pr-field-header label="Core innovation" style="margin-left: 20px;" [required]="false"
        description='<a href="{{resultUrl(result_core_innovation?.core_result_code)}}" target="_blank"> {{result_core_innovation?.core_title}} </a>'>
        </app-pr-field-header>
        =======
        <app-pr-field-header label="Core innovation " [required]="false"
            description='<a href="{{resultUrl(result_core_innovation?.core_result_code)}}" target="_blank"> {{result_core_innovation?.core_title}} </a>'></app-pr-field-header>
        >>>>>>> LFUB-538-Step-3-Revamp-workshop-question-and-fields-below

        <app-pr-field-header label="Innovation Readiness level evidence-based" [required]="false"
            [description]="this.readinessLevelSelfAssessmentText()"></app-pr-field-header>


        <div>

        </div>

        <div>
            <app-pr-range-level itemTitle="name" itemDescription="definition" optionLabel="name" optionValue="id"
                [options]="this.rangesOptions"
                [(ngModel)]="this.ipsrStep3Body.result_ip_result_core.readiness_level_evidence_based"></app-pr-range-level>

            <app-pr-input label="Evidence link" placeholder="Link goes here"
                [(ngModel)]="this.ipsrStep3Body.result_ip_result_core.readinees_evidence_link">
            </app-pr-input>

            <app-pr-textarea placeholder="Write some..."
                label="Please provide details of where evidence can be found within the source link (e.g. page number, slide number, table number)"
                type="text" [required]="false"
                [(ngModel)]="this.ipsrStep3Body.result_ip_result_core.readiness_details_of_evidence"></app-pr-textarea>

            <div class="fragment_section_divider"></div>

            <app-pr-field-header label="Innovation use level evidence-based" [required]="false"
                [description]="this.useLevelDelfAssessment()"></app-pr-field-header>

            <app-pr-range-level itemTitle="name" itemDescription="definition" optionLabel="name" optionValue="id"
                [options]="this.innovationUseList"
                [(ngModel)]="this.ipsrStep3Body.result_ip_result_core.use_level_evidence_based"></app-pr-range-level>

            <app-pr-input label="Evidence link" placeholder="Link goes here"
                [(ngModel)]="this.ipsrStep3Body.result_ip_result_core.use_evidence_link">
            </app-pr-input>

            <app-pr-textarea placeholder="Write some..."
                label="Please provide details of where evidence can be found within the source link (e.g. page number, slide number, table number)"
                type="text" [required]="false"
                [(ngModel)]="this.ipsrStep3Body.result_ip_result_core.use_details_of_evidence"></app-pr-textarea>
        </div>



        <div class="fragment_section_divider"></div>

        <app-step-n3-current-use [body]="this.ipsrStep3Body"></app-step-n3-current-use>

        <div class="step_divider"></div>

        <div class="Complementary_innovations">
            <app-pr-field-header label="<strong>Complementary innovations/ enablers/ solutions</strong>"
                [required]="false"
                [description]="this.ipsrStep3Body.result_ip_result_complementary?.length?'In case you want to add one more complementary innovation / enabler / solution'+(goToStep()|lowercase):''"></app-pr-field-header>
            <app-step-n3-complementary-innovations [body]="this.ipsrStep3Body" [rangesOptions]="this.rangesOptions"
                [innovationUseList]="this.innovationUseList"
                *ngIf="this.rangesOptions?.length && this.ipsrStep3Body.result_ip_result_complementary?.length">
            </app-step-n3-complementary-innovations>

            <app-no-data-text *ngIf="!this.ipsrStep3Body.result_ip_result_complementary.length"
                title="There are no complementary innovations / enablers / solutions selected for this innovation package. {{goToStep()}} to add them."></app-no-data-text>
        </div>

        <app-save-button class="position_sticky" (clickSave)="onSaveSection()">
        </app-save-button>
        <div class="toggle_change_step">
            <app-pr-button (click)="onsaveSection('next')" padding="big" text="Save & go to previous step"
                icon="arrow_circle_left" [reverse]="true"></app-pr-button>
            <app-pr-button (click)="onsaveSection('previous')" padding="big" text="Save & go to next step"
                icon="arrow_circle_right"></app-pr-button>
        </div>